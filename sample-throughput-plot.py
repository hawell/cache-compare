import matplotlib
import codecs
matplotlib.use('TkAgg')
import matplotlib.pyplot as plt
import numpy as np
import math
import sys

x = [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48, 52, 56, 60, 64]
y1 = [1387785,1379694,1368015,1360435,1360112,1353738,1358253,1359020,1368314,1256221,1204778,1208490,1211326,1219123,1228049,1234870]
y2 = [4558375,7280076,8599765,8585301,8686962,8658179,8675924,8619250,8612548,8594559,8543018,8452513,8471909,8436156,8387079,8315202]
y3 = [1586387,1500307,1413063,1388039,1350623,1320247,1300109,1279347,1288101,1271335,1250906,1236362,1221578,1210747,1194781,1190958]
y4 = [9524845,11908764,12372221,12427116,12561227,12667669,12628979,12742430,12841366,12765551,12924015,12894821,12878096,12880275,12892817,12909746]
y5 = [7638778,9247006,9809287,9986182,10111692,10238165,10365275,10425061,10410063,10450171,10457526,10564640,10584307,10567426,10562589,10526619]
y6 = [4885783,5823871,6018908,6075344,6109296,6086124,6124464,6093953,6098044,6092017,6107851,6093549,6096917,6071438,6064129,6023725]

y1 = [n/1000000.0 for n in y1]
y2 = [n/1000000.0 for n in y2]
y3 = [n/1000000.0 for n in y3]
y4 = [n/1000000.0 for n in y4]
y5 = [n/1000000.0 for n in y5]
y6 = [n/1000000.0 for n in y6]

fig = plt.figure()
fig.suptitle('100% Write', fontsize=20)
plt.plot(x, y1, 'co-', label='goburrow')
plt.plot(x, y2, 'bo-', label='ristretto')
plt.plot(x, y3, 'ro-', label='ccache')
plt.plot(x, y4, 'mo-', label='fastcache')
plt.plot(x, y5, 'yo-', label='freecache')
plt.plot(x, y6, 'go-', label='bigcache')
plt.xlabel('goroutines', fontsize=14)
plt.ylabel('million ops/sec', fontsize=14)
plt.legend(loc='upper left')
plt.show()
